{
  "version": "2.2.0",
  "summary": {
    "title": "Threat model for Kubernetes high availability demo",
    "owner": "Jakub Gorczynski",
    "description": "Application in a cloud on at least 3 simple types of microservices\n Assumptions - \nautomation in infrastructure build and and setup â€“ usage of a tools like Terraform, AWS CDK, Ansible, Chef, Puppet, etc - \ncontrol version system usage, like git, -\n at least three types of microservices, - \ndatabase and state should be specific and owned by each microservice type separately, but it is required for exactly two types of microservices to have its own private mirror or cache of some subset of data/state owned as authoritative by other microservice type, to be used in scenarios when the strictly integral copy of these data subset is not necessary. \nWhen the strict integrity for foreign data is still necessary, data should be reached by direct requests to the microservice owner of these data instead of usage of any local mirror or cache, -\n authorization and session management, -\n identities: administrator + identities federated via OAuth, for example with Google accounts, - user interface GUI (if you have any team member frontend oriented) - \nmonitoring of the service,\n collecting all the logs -\n",
    "id": 0
  },
  "detail": {
    "contributors": [
      {
        "name": "Jakub Gorczynski"
      }
    ],
    "diagrams": [
      {
        "id": 0,
        "title": "resilient-six-stride",
        "diagramType": "STRIDE",
        "placeholder": "New STRIDE diagram description",
        "thumbnail": "./public/content/images/thumbnail.stride.jpg",
        "version": "2.2.0",
        "cells": [
          {
            "position": {
              "x": 30,
              "y": 30
            },
            "size": {
              "width": 112.5,
              "height": 60
            },
            "attrs": {
              "text": {
                "text": "Client"
              },
              "body": {
                "stroke": "#333333",
                "strokeWidth": 1.5,
                "strokeDasharray": null
              }
            },
            "visible": true,
            "shape": "actor",
            "id": "93863029-190e-400e-bb45-064b29c5523f",
            "zIndex": 1,
            "data": {
              "type": "tm.Actor",
              "name": "Client",
              "description": "",
              "outOfScope": false,
              "reasonOutOfScope": "",
              "hasOpenThreats": false,
              "providesAuthentication": false,
              "threats": []
            }
          },
          {
            "shape": "flow",
            "attrs": {
              "line": {
                "stroke": "#333333",
                "targetMarker": {
                  "name": "block"
                },
                "sourceMarker": {
                  "name": ""
                },
                "strokeDasharray": null
              }
            },
            "width": 200,
            "height": 100,
            "zIndex": 10,
            "connector": "smooth",
            "data": {
              "type": "tm.Flow",
              "name": "HTTP Request",
              "description": "",
              "outOfScope": false,
              "reasonOutOfScope": "",
              "hasOpenThreats": false,
              "isBidirectional": false,
              "isEncrypted": false,
              "isPublicNetwork": false,
              "protocol": "",
              "threats": []
            },
            "id": "cde9722a-ff4c-40a4-91c8-52bbd0d42269",
            "source": {
              "cell": "93863029-190e-400e-bb45-064b29c5523f"
            },
            "target": {
              "cell": "62e49d4d-edf0-44bc-90ce-9b541bb745c4"
            },
            "vertices": [
              {
                "x": 120,
                "y": 270
              }
            ],
            "labels": [
              "HTTP Request"
            ]
          },
          {
            "shape": "flow",
            "attrs": {
              "line": {
                "stroke": "#333333",
                "targetMarker": {
                  "name": "block"
                },
                "sourceMarker": {
                  "name": ""
                },
                "strokeDasharray": null
              }
            },
            "width": 200,
            "height": 100,
            "zIndex": 10,
            "connector": "smooth",
            "data": {
              "type": "tm.Flow",
              "name": "HTTP Response",
              "description": "",
              "outOfScope": false,
              "reasonOutOfScope": "",
              "hasOpenThreats": false,
              "isBidirectional": false,
              "isEncrypted": false,
              "isPublicNetwork": false,
              "protocol": "",
              "threats": []
            },
            "id": "da4e149e-8d6b-4831-b408-8ec00c4d36df",
            "source": {
              "cell": "62e49d4d-edf0-44bc-90ce-9b541bb745c4"
            },
            "target": {
              "cell": "93863029-190e-400e-bb45-064b29c5523f"
            },
            "vertices": [
              {
                "x": 330,
                "y": 90
              }
            ],
            "labels": [
              "HTTP Response"
            ]
          },
          {
            "shape": "flow",
            "attrs": {
              "line": {
                "stroke": "#333333",
                "targetMarker": {
                  "name": "block"
                },
                "sourceMarker": {
                  "name": ""
                },
                "strokeDasharray": null
              }
            },
            "width": 200,
            "height": 100,
            "zIndex": 10,
            "connector": "smooth",
            "data": {
              "type": "tm.Flow",
              "name": "Potential attack request",
              "description": "",
              "outOfScope": false,
              "reasonOutOfScope": "",
              "hasOpenThreats": false,
              "isBidirectional": false,
              "isEncrypted": false,
              "isPublicNetwork": false,
              "protocol": "",
              "threats": []
            },
            "id": "868dcc0d-feeb-4ee7-9f4f-0eb282dcd77e",
            "source": {
              "cell": "45c9a776-8744-45e4-a333-80dcbc143ce6"
            },
            "target": {
              "cell": "62e49d4d-edf0-44bc-90ce-9b541bb745c4"
            },
            "labels": [
              "Potential attack request"
            ]
          },
          {
            "shape": "trust-boundary-curve",
            "width": 200,
            "height": 100,
            "zIndex": 10,
            "connector": "smooth",
            "data": {
              "type": "tm.Boundary",
              "name": "Public internet",
              "description": "",
              "isTrustBoundary": true,
              "hasOpenThreats": false
            },
            "id": "1c1e825a-1750-4b07-8822-561ef6566f36",
            "source": {
              "x": 10,
              "y": 230
            },
            "target": {
              "x": 860,
              "y": 130
            },
            "vertices": [
              {
                "x": 330,
                "y": 140
              },
              {
                "x": 670,
                "y": 120
              }
            ],
            "labels": [
              "Public internet"
            ]
          },
          {
            "shape": "flow",
            "attrs": {
              "line": {
                "stroke": "#333333",
                "targetMarker": {
                  "name": "block"
                },
                "sourceMarker": {
                  "name": ""
                },
                "strokeDasharray": null
              }
            },
            "width": 200,
            "height": 100,
            "zIndex": 10,
            "connector": "smooth",
            "data": {
              "type": "tm.Flow",
              "name": "Audit",
              "description": "",
              "outOfScope": false,
              "reasonOutOfScope": "",
              "hasOpenThreats": false,
              "isBidirectional": false,
              "isEncrypted": false,
              "isPublicNetwork": false,
              "protocol": "",
              "threats": []
            },
            "id": "8cb081c6-9edd-4cdf-ba9e-508102169902",
            "source": {
              "cell": "62e49d4d-edf0-44bc-90ce-9b541bb745c4"
            },
            "target": {
              "cell": "96d19f31-fdc6-48a7-b6a7-72b0351fe8bd"
            },
            "labels": [
              "Audit"
            ]
          },
          {
            "position": {
              "x": 310,
              "y": 290
            },
            "size": {
              "width": 120,
              "height": 100
            },
            "attrs": {
              "text": {
                "text": "Azure cloud\napplication"
              },
              "body": {
                "stroke": "#333333",
                "strokeWidth": 1.5,
                "strokeDasharray": null
              }
            },
            "visible": true,
            "shape": "process",
            "id": "62e49d4d-edf0-44bc-90ce-9b541bb745c4",
            "zIndex": 11,
            "data": {
              "type": "tm.Process",
              "name": "Azure cloud\napplication",
              "description": "",
              "outOfScope": false,
              "reasonOutOfScope": "",
              "hasOpenThreats": false,
              "handlesCardPayment": false,
              "handlesGoodsOrServices": false,
              "isWebApplication": false,
              "privilegeLevel": "",
              "threats": []
            },
            "tools": {
              "items": [
                "boundary",
                "button-remove"
              ],
              "name": null
            }
          },
          {
            "position": {
              "x": 540,
              "y": 30
            },
            "size": {
              "width": 112.5,
              "height": 60
            },
            "attrs": {
              "text": {
                "text": "Untrusted actor \n(e.g. bot)"
              },
              "body": {
                "stroke": "#333333",
                "strokeWidth": 1.5,
                "strokeDasharray": null
              }
            },
            "visible": true,
            "shape": "actor",
            "id": "45c9a776-8744-45e4-a333-80dcbc143ce6",
            "zIndex": 12,
            "data": {
              "type": "tm.Actor",
              "name": "Untrusted actor \n(e.g. bot)",
              "description": "",
              "outOfScope": false,
              "reasonOutOfScope": "",
              "hasOpenThreats": false,
              "providesAuthentication": false,
              "threats": []
            }
          },
          {
            "position": {
              "x": 653,
              "y": 370
            },
            "size": {
              "width": 120,
              "height": 60
            },
            "attrs": {
              "text": {
                "text": "Logging"
              },
              "topLine": {
                "strokeWidth": 1.5,
                "strokeDasharray": null
              },
              "bottomLine": {
                "strokeWidth": 1.5,
                "strokeDasharray": null
              }
            },
            "visible": true,
            "shape": "store",
            "id": "96d19f31-fdc6-48a7-b6a7-72b0351fe8bd",
            "zIndex": 13,
            "data": {
              "type": "tm.Store",
              "name": "Logging",
              "description": "",
              "outOfScope": false,
              "reasonOutOfScope": "",
              "hasOpenThreats": false,
              "isALog": false,
              "isEncrypted": false,
              "isSigned": false,
              "storesCredentials": false,
              "storesInventory": false,
              "threats": []
            }
          }
        ],
        "description": "threat model of the service (using STRIDE framework)"
      }
    ],
    "diagramTop": 1,
    "reviewer": "Marcin Ziolkowski, Mateusz Wasilewski",
    "threatTop": 0
  }
}